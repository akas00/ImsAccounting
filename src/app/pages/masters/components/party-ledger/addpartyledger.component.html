<style>
  label {
    width: 150px;
    font-size: 15px;
    color: #403c3c;
  }

  input {
    height: 30px;
  }

  label{
    font-size: 14px;
  }
</style>
<!-- begin form here -->
<form [formGroup]="form">
  
  <div class="main-container" style="padding-top : 10px; margin-bottom: 0px; margin-top: 0px !important;">
    <div class="row">
      <div class="col-md-12">
        <div class="tabbable" id="warehouse-tabs">
          <ul class="nav nav-tabs">
            <li class="nav-item">
              <a class="nav-link active" href="#general-info4" data-toggle="tab">Party a/c Information</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact-details" *ngIf="grp =='A'" data-toggle="tab">Additional Information</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#bank-details" *ngIf="grp =='A'" data-toggle="tab">Bank Details</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#divisionwise-setting" *ngIf="grp =='A' && enableDivisionMapping == true" data-toggle="tab">Division Wise Setting</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#sales-target" *ngIf="grp =='A' && userSetting.ENABLESALES_TARGET == 1 && ISCUSTOMER==true" data-toggle="tab">Sales Target</a>
            </li>

           
           
            <!-- <li class="nav-item">
              <a class="nav-link" href="#route" data-toggle="tab">Route</a>
            </li> -->
          </ul>
                  <!-- <label *ngIf="modeTitle" style="font-weight: bold;font-size: 16px;width: 200px;padding-top: 1%;">&nbsp;>> {{ modeTitle}}</label> -->
          
            <div style="float: right;padding-top: 8px;padding-right: 8px;">
              <button type="button" (click)="SumbitSave()" title="onSave" class="btn btn-info" 
      *ngIf="grp=='A' && Is_OverseasParty==0" [disabled]="!form.valid || mode=='view'" style="width:80px;margin-right: 10px;">Save</button>
      
      <button type="button" (click)="SumbitSave()" title="onSave" class="btn btn-info" 
      *ngIf="grp=='A' && Is_OverseasParty==1" [disabled]=" mode=='view'" style="width:80px;margin-right: 10px;">Save</button>
    
      <button type="button" (click)="SumbitSave()" title="onSave" class="btn btn-info" *ngIf="grp=='G'" style="width:80px;margin-right: 10px;">Save</button>
    <button type="button" (click)="DeleteParty()" class="btn btn-info" *ngIf="grp == 'A' && mode == 'view'" style="width: 80px;margin-right: 10px;">Delete</button>
    <button type="button" (click)="cancel()" title="Cancel" class="btn btn-info" style="width:80px;">F3 Reset</button>
            </div>
         
          <div class="tab-content">
              <div class="tab-pane active" id="general-info4">
                <!-- General Info -->
                <div class="form-group row">
                  <div class="col-sm-12">
                  
                    <div class="form-group row" style="margin-bottom: 10px !important;">
                    
                        <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Parent:</label>
                        <!-- [(ngModel)]="g.value.SELECTEDGROUPAC" [ngModelOptions]="{standalone: true}" -->
                        <div class="col-sm-3">
                          <input type="text" style="font-size: 12px !important;" class="form-control"  placeholder="Parent" formControlName="parentid"/>
                        </div> 
                    
                      <label *ngIf="Title == 'AddLedger' ||  grp=='A'" class="col-sm-2 form-control-label" style="padding-top: 7px;">A/C Code:</label>
                      <div *ngIf="Title == 'AddLedger' ||  grp=='A'" class="col-sm-3">
                        <input type="text" id="ACCODE" style="font-size: 12px !important;" class="form-control" formControlName="ACCODE" placeholder="Account Code">
                        <div class="alert alert-danger" *ngIf="form.controls['ACCODE'].touched && !form.controls['ACCODE'].valid">Account Code is Required.</div>
                      </div>
                    
                    </div>
                    <div *ngIf="Title == 'AddGroup' || mode=='edit'  && grp!='A'" class="form-group row" style="margin-bottom: 10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px;">GroupName:</label>
                      <div class="col-sm-8">
                        <input type="text" #ACNAME formControlName="ACNAME" style="font-size: 12px !important;width: 97%;" class="form-control" placeholder="Group Name" />
                      </div>
                    </div>
                    <div *ngIf="Title == 'AddLedger' || mode=='edit' && grp=='A' || mode=='view' ">
                      <div class="form-group row" style="margin-bottom: 10px !important;" *ngIf="userSetting.ENABLEPARENTCOMPANY == 1">
                        <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Parent Company:</label>
                        <div class="col-sm-8">
                        <input type="text" style="font-size: 12px !important;width: 97%;" class="form-control" 
                        placeholder="Press Enter to Select Parent Company" formControlName="PCompanyName" #ParentCompany (keydown.Enter)="showParentAccountList();">
                        </div>
                      </div>
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Ledger Name:</label>
                        <div class="col-sm-8">
                          <input type="text" #ACNAME style="font-size: 12px !important;width: 97%;" class="form-control" formControlName="ACNAME" placeholder="Ledger Name">
                        </div>
                      </div>
                      <!-- <div class="alert alert-danger" *ngIf="form.controls['ACNAME'].touched && !form.controls['ACNAME'].valid">PartyLedger Name is Required.</div> -->
              
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Address:</label>
                        <div class="col-sm-8">
                          <input type="textarea"  style="height: 45px !important;font-size: 12px !important; width:97%;" rows="2" cols="50" class="form-control" formControlName="ADDRESS" placeholder="Address">
                        </div>
                      </div>
                      <!-- <div class="alert alert-danger" *ngIf="form.controls['ADDRESS'].touched && !form.controls['ADDRESS'].valid">Address is Required.</div> -->
                    </div>
                  </div>
                </div>

                <div class="row">
                  <div *ngIf="Title == 'AddLedger' || mode=='edit' && grp=='A' || mode=='view' ">
                    <div class="col-md-5">

                      <div *ngIf="userSetting.isOverSeas == 1" class="form-group row" style="margin-bottom: 10px !important;">
                        <div class="col-sm-2"></div>
                          <div class="col-sm-7" style="margin-left: 31%;">
                            <div class="row">
                            <input type="checkbox" formControlName="IS_OVERSEAS_PARTY" style="height:15px;" class="col-sm-1" 
                            (change)="changeIsOverseasParty(form.value.IS_OVERSEAS_PARTY)">
                            <label class="col-sm-6">Is Overseas party</label>
                            </div>
                          </div>
                        </div>


                      <div *ngIf="userSetting.Country == 1" class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 7px;">VAT No:</label>
                        <div class="col-sm-7" *ngIf="Is_OverseasParty == 1 || (userSetting.VATNOTCOMPULSORY == 1 && ISCUSTOMER==false)">
                          <input type="text" style="font-size: 12px !important;" class="form-control" formControlName="VATNO" placeholder="VAT No ." (change)="checkDuplicateVAT($event)">
                         
                        </div>
                        <div class="col-sm-7" *ngIf="(Is_OverseasParty == 0 && (userSetting.VATNOTCOMPULSORY == 0 || (userSetting.VATNOTCOMPULSORY == 1 && ISCUSTOMER==true)))">
                          <input type="text" style="font-size: 12px !important;" class="form-control" formControlName="VATNO" placeholder="VAT No." (keypress)="keyPress($event)" maxlength="9" minlength="9" (change)="checkDuplicateVAT($event)">
                          <div class="alert alert-danger" *ngIf="form.controls['VATNO'].touched && !form.controls['VATNO'].valid">VATNO is Required.</div>
                        </div>

                        
                      </div>

                      <div class="form-group row" style="margin-bottom: 10px !important">
                        <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Tel no:</label>
                        <div class="col-sm-7">
                          <input type="text" style="font-size: 12px !important;" class="form-control" formControlName="PHONE" placeholder="Tel No.">
                        </div>
                      </div>

                      <div class="form-group row" style="margin-bottom: 10px !important">
                        <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Mobile:</label>
                        <div class="col-sm-7">
                          <input type="text" style="font-size: 12px !important;" class="form-control" formControlName="Mobile" placeholder="Phone No." (keypress)="keyPress($event)" maxlength="10" minlength="10">
                        </div>
                    </div>

                    <div class="form-group row" style="margin-bottom: 10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Email:</label>
                      <div class="col-sm-7">
                        <input type="text" style="font-size: 12px !important;" class="form-control" formControlName="EMAIL" placeholder="Email Address">
                      </div>
                    </div>

                    <div class="form-group row" style="margin-bottom: 10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Area:</label>
                      <div class="col-sm-7">
                      <input type="text" style="font-size: 12px !important;" name="product" list="productName" (change)="onChangeArea($event)"  class="form-control" formControlName="CITY"/>
                      <datalist id="productName">
                        <option *ngFor="let i of areaList" value="{{i.AREANAME}}">{{
                          i.AREANAME
                        }}</option>
                      </datalist>
                      <div class="alert alert-danger" *ngIf="form.controls['CITY'].touched && !form.controls['CITY'].valid">Area is Required</div>
                      </div>
                    </div>

                    <div class="form-group row" style="margin-bottom: 10px !important;" *ngIf="userSetting.Country == 1">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Province</label>
                        <div class="col-sm-7">
                          <select  style="font-size: 12px !important;" class="form-control" formControlName="STATE" (change)="onStateChange($event)">
                            <option value=""></option>
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                            <option value="6">6</option>
                            <option value="7">7</option>
                            <option  *ngIf="userSetting.Country == 1" value="8">8</option>
                          </select>
                        </div>
                    </div>

                    <div class="form-group row" style="margin-bottom: 10px !important;" *ngIf="userSetting.Country == 1">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px;">District</label>
                        <div class="col-sm-7">
                          <select  style="font-size: 12px !important;" class="form-control" formControlName="DISTRICT">
                            <option value=""></option>
                            <option *ngFor="let i of DistrictListbyState" value={{i.Name}} >{{i.Name}}</option>
                          </select>
                        </div>
                    </div>

                    <div class="form-group row" style="margin-bottom: 10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Status:</label>
                      <div class="col-sm-7">
                        <!-- <input type="checkbox" class="form-control" (change)="clickedNotActive(1)" formControlName="isNotActive"> -->
                    
                          <select formControlName="ISACTIVE"  style="font-size: 12px !important;" class="form-control">
                            <option value="1">ACTIVE</option>
                            <option value="0">INACTIVE</option>
                            
                          </select>
                          
                        <!-- <input type="checkbox"  (change)="NotActive($event.target.checked==1?1:0)" formControlName="ISACTIVE"> -->
                      </div>
                    </div>
                  </div>

                  <!--right column-->
                  <div class="col-md-5">
                    <!-- <div class="form-group row ">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px; white-space: nowrap;">Contract Price:</label>
                      <div class="col-sm-7">
                        <input type="text"   style="font-size: 12px !important;width:95%; " class="form-control" placeholder="Please Enter to Select"  (keydown.enter)="contractPricePopup($event)"/>
                      </div>
                    </div>
                    <div class="form-group row ">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px; white-space: nowrap;">Salesman:</label>
                      <div class="col-sm-7">
                        <input type="text"   style="font-size: 12px !important;width:95%; " class="form-control" formControlName="SALESMAN" placeholder="Please Enter to Select" (keydown.enter)="onSalesmanEnter($event)" autocomplete="off"  />
                      </div>
                    </div>

                    <div class="form-group row ">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px; white-space: nowrap;">Term and Condition:</label>
                      <div class="col-sm-7">
                        <input type="text"   style="font-size: 12px !important;width:95%; " class="form-control" placeholder="Please Enter to Select" />
                      </div>
                    </div> -->

                    <div class="form-group row" style="margin-bottom: 10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Party Category:</label>
                      <div class="col-sm-7">
                        <select *ngIf="userSetting.Country != 1" class="form-control" formControlName="GEO"
                        style="height:30px;padding-bottom: 0px;font-size: 12px !important;width:95%;">
                        <option *ngFor="let i of GeoList" value="{{i.OrgTypeCode}}">{{
                          i.OrgTypeName
                        }}</option>
                      </select>
                      <select *ngIf="userSetting.Country == 1" class="form-control" formControlName="GEO"
                        style="height:30px;padding-bottom: 0px;font-size: 12px !important;width:95%;">
                        <option *ngFor="let i of PartyCat_List" value="{{i.OrgTypeCode}}">{{
                          i.OrgTypeName
                        }}</option>
                      </select>
                      <div class="alert alert-danger" *ngIf="form.controls['GEO'].touched && !form.controls['GEO'].valid">Please select Party Category</div>
                      </div>
                    </div>

                    <div class="form-group row" style="margin-bottom:10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Party type:</label>
                      <div class="col-sm-7" style="padding-top: 7px;">
                        <input type="radio" style="height:13px;font-size: 12px !important;" formControlName="Ptype"  value="C" (change)="changePtype('C')">&nbsp;Customer&nbsp;
                        <input type="radio" style="height:13px;" formControlName="Ptype"  value="V" (change)="changePtype('V')">&nbsp;Supplier  
                        </div>
                    </div>

                    <div class="form-group row" style="margin-bottom: 10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Credit Limit:</label>
                      <div class="col-sm-7">
                        <input type="number" style="font-size: 12px !important;width:95%;" class="form-control" formControlName="CRLIMIT" placeholder="Credit Limit">
                        <div class="alert alert-danger" *ngIf="form.controls['CRLIMIT'].touched && !form.controls['CRLIMIT'].valid">Credit limit is required</div>
                      </div>
                    </div>

                    <div class="form-group row" style="margin-bottom: 10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 7px;">Credit Days:</label>
                      <div class="col-sm-3">
                        <input type="number" style="font-size: 12px !important;" class="form-control"  placeholder="Credit Days" formControlName="CRPERIOD">
                        <div class="alert alert-danger" *ngIf="form.controls['CRPERIOD'].touched && !form.controls['CRPERIOD'].valid">Credit Days is required</div>
                      </div>
                    </div>

                    <div class="form-group row" style="margin-bottom: 10px !important;">
                    <div class="col-sm-2"></div>
                      <div class="col-sm-9" style="margin-left: 31%;">
                        <div class="row">
                        <input type="checkbox" value=1 formControlName="COMMON" style="height:15px;" class="col-sm-1">
                        <label style="width: 230px !important;" class="col-sm-5">is Common Nature Party A/C</label>
                        </div>
                      </div>
                    </div>

                    <div class="form-group row" style="margin-bottom: 10px !important;">
                      <div class="col-sm-2"></div>
                        <div class="col-sm-9" style="margin-left: 31%;">
                          <div class="row">
                          <input type="checkbox" value=1 formControlName="ISBRANCH" style="height:15px;" class="col-sm-1">
                          <label style="width: 230px !important;" class="col-sm-5">is Branch Party A/C</label>
                          </div>
                        </div>
                      </div>

                    <div class="form-group row" *ngIf="userSetting.CREATE_CPROFILE_AS_MEMBER == 1 && form.value.Ptype == 'C'" style="margin-bottom: 10px !important;">
                      <div class="col-sm-2">
                      </div>
                      <div class="col-sm-9" style="margin-left: 31%;">
                        <div class="row">
                        <input type="checkbox" formControlName="createMember" style="height:15px;" class="col-sm-1">
                        <label style="width: 220px !important;" class="col-sm-5">Create A/C as Member Also</label>
                        </div>
                      </div>
                    </div>

                    <div class="form-group row" *ngIf="userSetting.ENABLEINTERCOMPANYPARTY == 1"  style="margin-top: 0px;">
                      <div class="col-sm-2">
                      </div>
                      <div class="col-sm-9" style="margin-left: 24%;">
                        <fieldset style="width: 90%;">
                          <legend style="font-size: 15px !important;width: 90%;">
                            <input type="checkbox" class="form-control col-sm-1" style="height: 14px; width: 14px;margin-bottom: -14px;margin-left: 10px;" id="interparty" name="interparty" formControlName="IsInitialValue" (change)="enableInitial($event.target.checked==1?1:0)">
                            <label class="form-control-label col-sm-4" style="width: 100% ;margin-left: 10%;">Is Intercompany Party A/C</label>
                          </legend>
                          <div class="col-sm-6" style="margin-top: -5px;">
                            <label class="form-control-label" style="width: 220px !important;">Inter Company ID</label>
                          </div>
                          <div class="col-sm-6" style="margin-top: -10px;">
                            <input type="text" style="font-size: 12px !important;margin-left: 12px;" class="form-control" placeholder="Initial" formControlName="INITIAL">
                            <!-- <select class="form-control" formControlName="INITIAL" style="font-size: 12px !important;width: 122%; margin-left: -15%; margin-top: -3%;">
                              <option value=" "></option>
                              <option *ngFor="let div of division" value="{{ div.INITIAL }}" >
                                {{ div.NAME }}
                            </option>
                            </select> -->
                          </div>
                        </fieldset>
                      </div>
                    </div>


                  </div>
                  <!--right column end-->


                  </div>

                </div> <!--bottom half end-->

                    
              </div> <!--general info tab end-->

              <div class="tab-pane" id="contact-details">
                <!-- Contact Details -->
                <div class="form-group row" style="margin-bottom: 10px !important;">
                  <div class="col-sm-12">
                    <div class="form-group row" style="margin-bottom: 10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Company Name:</label>
                      <div class="col-sm-8">
                        <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Company Name" formControlName="CNAME" >
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <fieldset style="border:1px solid #dcdcdc; margin-top:15px;">
                          <legend style="font-size:15px;font-weight: bold; width: auto;">Owner Info</legend>
              
                          <div class="form-group row" style="margin-left: 0px;margin-bottom: 10px !important;">
                            <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Name :</label>
                            <div class="col-sm-8">
                              <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Name" formControlName="ONAME" >
                            </div>
                          </div>
                          <div class="form-group row" style="margin-left: 0px;margin-bottom: 10px !important;">
                            <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Contact No :</label>
                            <div class="col-sm-6">
                              <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Contact No" formControlName="OCONTACT">
                            </div>
                          </div>

                          <div class="form-group row" style="margin-left: 0px;margin-bottom: 10px !important;">
                            <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Designation :</label>
                            <div class="col-sm-6">
                              <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Designation" formControlName="ODESIGNATION" >
                            </div>
                          </div>
                        </fieldset>

                      </div>

                      <div class="col-md-6">
                        <fieldset style="border:1px solid #dcdcdc; margin-top:15px;">
                          <legend style="font-size:15px;font-weight: bold; width: auto;">Contact Person Information</legend>

                          <div class="form-group row" style="margin-left: 0px;margin-bottom: 10px !important;">
                            <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Name :</label>
                            <div class="col-sm-8">
                              <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Name" formControlName="CONTACTNAME">
                            </div>
                          </div>

                          <div class="form-group row" style="margin-left: 0px;margin-bottom: 10px !important;">
                            <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Contact No (A) :</label>
                            <div class="col-sm-4" style="padding-right: 0px;">
                              <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Contact No (A)" formControlName="CCONTACT_A">
                            </div>
                            <div class="col-sm-4" style="padding-left: 0px;">
                              <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Contact No (B)" formControlName="CCONTACT_B">
                            </div>
                          
                          </div>


                          <div class="form-group row" style="margin-left: 0px;margin-bottom: 10px !important;">
                            <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Designation :</label>
                            <div class="col-sm-6">
                              <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Designation" formControlName="CDESIGNATION">
                            </div>
                          </div>
                          
                
                        </fieldset>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-6">
                        <fieldset style="border:1px solid #dcdcdc; margin-top:15px;">
                          <legend style="font-size:15px; font-weight:bold; width: auto;">Dealing Sales Executive Information :</legend>
                          <div class="form-group row" style="margin-left: 0px;margin-bottom: 10px !important;">
                            <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Name(Primary) :</label>
                            <div class="col-sm-8">
                              <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Name(Primary)" formControlName="RELATEDSPERSON_A">
                            </div>
                          </div>

                          <div class="form-group row" style="margin-left: 0px; margin-bottom: 10px !important;">

                            <label class="col-sm-2 form-control-label" style="padding-top: 5px;width: 161px !important;">Name(Secondary) :</label>
                            <div class="col-sm-7" style="padding-left: 3px;"> 
                              <input type="text" style="font-size: 12px !important; width: 110%;" class="form-control" placeholder="Name(Secondary)" formControlName="RELATEDSPERSON_B">
                            </div>
                          </div>
                        
                
                        </fieldset>
                      </div>

                      <div class="col-md-6">
                        <div class="form-group row" style="margin-top:55px;">
                          <div class="row">
                          <label class="col-sm-2 form-control-label" style="padding-top: 5px; padding-left: 2rem;">Notes:</label>
                          </div>
                          <div class="row">
                            <input type="textarea"  style=" height: 55px !important;font-size: 12px !important; margin-left: 2rem; width: 90%;" rows="2" cols="100" class="form-control" formControlName="NOTES" placeholder="NOTES">
                          </div>
                        </div>
                      </div>

                    </div>
                    
                    
                  </div>
                </div>
              </div> <!--additional info tab end-->
              <div class="tab-pane" id="bank-details">
                <!-- Contact Details -->
                <div class="form-group row" style="margin-bottom: 10px !important;">
                  <div class="col-sm-12">
                    <div class="form-group row" style="margin-bottom: 10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Default Bank:</label>
                      <div class="col-sm-8">
                        <input type="text" style="font-size: 12px !important;width: 48%;" class="form-control" 
                        placeholder="Press Enter to Select" formControlName="BANKNAME" #BankName (keydown.Enter)="showBankPopup(); BankName.blur();">
                      </div>
                    </div>
                    <div class="form-group row" style="margin-bottom: 10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Bank Code:</label>
                      <div class="col-sm-8">
                        <input type="text" style="font-size: 12px !important;width: 48%;" class="form-control" placeholder="Bank Code" formControlName="BANKCODE" disabled>
                      </div>
                    </div>
                    <div class="form-group row" style="margin-bottom: 10px !important;">
                      <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Account number:</label>
                      <div class="col-sm-8">
                        <input type="text" style="font-size: 12px !important;width: 48%;" class="form-control" placeholder="Account Number" formControlName="BANKACCOUNTNUMBER" >
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-6">
                        <fieldset style="border:1px solid #dcdcdc; margin-top:15px;">
                          <legend style="font-size:15px;font-weight: bold; width: auto;">Additional Bank (Optional)</legend>
              
                          <div class="form-group row" style="margin-left: 0px;margin-bottom: 10px !important;">
                            <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Bank Name :</label>
                            <div class="col-sm-8">
                              <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Press Enter to Select" (keydown.Enter)="showAddBankPopup()" formControlName="ADDITIONALBANKNAME" >
                            </div>
                          </div>
                          <div class="form-group row" style="margin-left: 0px;margin-bottom: 10px !important;">
                            <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Bank Code :</label>
                            <div class="col-sm-6">
                              <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Bank Code" formControlName="ADDITIONALBANKCODE" disabled>
                            </div>
                          </div>

                          <div class="form-group row" style="margin-left: 0px;margin-bottom: 10px !important;">
                            <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Account number :</label>
                            <div class="col-sm-6">
                              <input type="text" style="font-size: 12px !important;" class="form-control" placeholder="Account Number" formControlName="ADDITIONALBANKACCOUNTNUMBER">
                            </div>
                          </div>
                          <button  class="btn btn-primary" (click)="onCLickAddBank()" [disabled]="mode=='view'">Add</button>
                        </fieldset>

                      </div>

                      <div class="col-md-6">
                        <fieldset style="border:1px solid #dcdcdc; margin-top:15px;">
                          <legend style="font-size:15px;font-weight: bold; width: auto;">Details</legend>
                          <table>
                            <tr>
                              <th style="width: 40%;background-color: #63bbb2;">
                                Bank Name
                              </th>
                              <th style="width: 20%;background-color: #63bbb2;">
                                Bank Code
                              </th>
                              <th style="width: 40%;background-color: #63bbb2;height: 37px;">
                                Account number
                              </th>
                              <th style="width: 20%;background-color: #63bbb2;"></th>
                              </tr>
                              <tr style="height: 30px;" *ngFor="let i of AdditionalBankList;let i = index">
                                <td style="width: 50%;">{{i.BANKNAME}}</td>
                                <td style="width: 34%;">{{i.BANKCODE}}</td>
                                <td>{{i.BANKACCOUNTNUMBER}}</td>
                                <td><button class="btn btn-danger" (click)="RemoveBankFromList(i)" [disabled]="mode=='view'">-</button></td>
                              </tr>
                          </table>
                       

                          


                          
                          
                
                        </fieldset>
                      </div>
                    </div>

                    
                    
                  </div>
                </div>
              </div>
              <div class="tab-pane" id="divisionwise-setting">
                <div class="form-group row">
                  <div class="col-md-12">
                      <div class="col-md-6width: 42%;">
                        <fieldset style="background-color: #e2eaea;">
                          <legend style="font-size: 15px !important;width: 51%;">Associated Division Mapping :</legend>
                          <div class="col-md-12">
                            <div class="col-sm-3">
                              <label class="form-control-label">Division :</label>
                            </div>
                            <div class="col-sm-9">
                              <select class="form-control" formControlName="DIV" (change)="changeDivision($event.target.value)">
                                <option *ngFor="let div of division" value="{{ div.INITIAL }}">
                                  {{ div.NAME }}
                              </option>      </select>
                            </div>
                          </div>

                          <div class="col-md-12" style="margin-top: 3%;">
                            <fieldset >
                              <legend style="font-size: 15px !important;width: 51%;">
                              <div>
                                <!-- <input type="checkbox" formControlName="createMember" style="height:13px;"> -->
                              </div> 

                                <input type="checkbox" style="height: 13px !important;" name="checkDivision" id="checkDivision" formControlName="ShareAccount" (change)="enableShareOptions($event.target.checked==1?1:0)">
                                Shared This Account :</legend>
                                <div class="col-sm-6">
                                  <input type="radio" style="height: 13px !important;" formControlName="ShareSelectiveDiv" value=1 (change)="enableDivSelectionTable($event.target.checked==1?1:0)">&nbsp;Share To Selective Division
                                </div>
                                <div class="col-sm-6">
                                  <input type="radio" style="height: 13px !important;" formControlName="ShareAllDiv" value=2 (change)="ShareAllDiv($event.target.checked==1?1:0)">&nbsp;Share To All Division
                                </div>
                            </fieldset>
                          </div>
                          
                        </fieldset>
                      </div>
                    <div class="col-md-6">
                    <fieldset *ngIf="showDivSelectionTable" style="background-color: #e2eaea;height :173px">
                      <legend style="font-size: 15px !important;width: 60%;">
                        Account Sharing Division Selection :</legend>
                      <div style="overflow-y: auto;height: 132px;">
                        <table>
                          <tr *ngFor="let d of division;let i = index" >
                            <td style="border:1px solid #e0e0e0;width: 1%;">
                              <input type="checkbox" [(ngModel)]="d.isCheck" [ngModelOptions]="{standalone: true}"
                                (change)="check($event)" value="{{d}}" (click)='rowClick(i)' *ngIf = '!d.isDefault'>
                                <input type="checkbox" [(ngModel)]="d.isCheck" [ngModelOptions]="{standalone: true}" [checked] *ngIf = 'd.isDefault' disabled>
                            </td>
                            <td style="border:1px solid #e0e0e0;padding-left: 24px;width:100%">{{d.NAME}}</td>
                          </tr>



                        </table>
                      </div>
                    
                    </fieldset>
                    </div>
                  </div>
                </div>
              </div>
              
              <div class="tab-pane" id="sales-target">
                <!-- Sales Target -->
                <div class="col-sm-12">
                  <div class="form-group row" style="margin-top: 10px !important;">
                    <label class="col-sm-2 form-control-label" style="padding-top: 5px;margin-left: 0px;">Yearly Target:</label>
                    <div class="col-sm-8">
                      <input type="number" style="font-size: 12px !important;width: 23%;" class="form-control" placeholder="Target Amount" formControlName="TARGET_AMOUNT" >
                    </div>
                  </div>  
                </div>
                <fieldset>
                  <legend style="font-size:16px;font-weight: bold; width:auto;margin-bottom: -4px;">Monthly Balance</legend>
                <div class="form-group row" style="margin-bottom: 10px !important;">
                  <div class="col-sm-12">
                    <div class="col-sm-6">
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Shrawan Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Shrawan Target" formControlName="SHARWAN" (input)="calculateMonthBalance()">
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div> 
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Bhadra Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Bhadra Target" formControlName="BHADRA" (input)="calculateMonthBalance()">
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div> 
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Ashwin Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Ashwin Target" formControlName="ASHWIN" (input)="calculateMonthBalance()">
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div> 
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Kartik Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Kartik Target" formControlName="KARTIK" (input)="calculateMonthBalance()">
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div> 
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Mangsir Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Mangsir Target" formControlName="MANGSHIR" (input)="calculateMonthBalance()">
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div> 
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Poush Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Poush Target" formControlName="PAUSH" (input)="calculateMonthBalance()">
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div> 
                    </div>
                    <div class="col-sm-6">
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Magh Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Magh Target" formControlName="MAGH" (input)="calculateMonthBalance()">
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div> 
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Falgun Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Falgun Target" formControlName="FALGUN" (input)="calculateMonthBalance()"> 
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div> 
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Chaitra Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Chaitra Target" formControlName="CHAITRA" (input)="calculateMonthBalance()">
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div> 
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Baisakh Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Baisakh Target" formControlName="BAISHAKH" (input)="calculateMonthBalance()" >
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div>   
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Jestha Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Jestha Target" formControlName="JESTHA" (input)="calculateMonthBalance()" >
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div> 
                      <div class="form-group row" style="margin-bottom: 10px !important;">
                        <label class="col-sm-2 form-control-label" style="padding-top: 5px;">Asadh Target:</label>
                        <div class="col-sm-3">
                          <input type="number" style="font-size: 12px !important;width:100%" class="form-control" placeholder="Asadh Target" formControlName="ASHAD" (input)="calculateMonthBalance()">
                        </div>
                        <div class="col-sm-1">
                          <label style="margin-top: 5px;margin-left: -21px;">%</label>
                        </div>
                      </div>
                    </div>  
                  </div>
                 
                </div>
              </fieldset>
              </div>
               <!--sales target tab end-->

      
         
         
          </div> <!--tab content-->
        </div>
      </div>
    </div>
  </div>
</form>
<!-- ////////////////////////////////BANKSETTING TABLE////////////////////////////////////////   -->
<div *ngIf ="bank">
  <table style="margin-bottom: 5px; font-size: 13px; width: 100%">
    <thead>
      <tr
        style="
          border-bottom: 2px solid #e6e6e6;
          border-top: 2px solid #e6e6e6;
          height: 30px;
          background: #63bbb2;
          color: black;
        "
      >
        <th style="width: 1%; text-align:center;">SNo.</th>
        <th style="width: 10%; padding-left: 1%; text-align:center;">Bank Name</th>
        <th style="width: 7%; padding-left: 1% ;text-align:center;">Branch</th>
        <th style="width: 7%; padding-left: 1%; text-align:center;">Account Number</th>

      </tr>
    </thead>
    <tbody>
      <tr *ngFor= "let bankobj of bankArray; let i = index" style="border: 1px; max-height: 25px">

        <td style="line-height: 21px; text-align: center; border: 1px solid #e6e6e6;">
        {{i+1}}
        </td>

        <td style="line-height: 21px; text-align: center; border: 1px solid #e6e6e6;">
          <input class="form-control"  [(ngModel)]="bankobj.BankName"
            style="height: 25px; width: 95% !important"/>
            <!-- {{bankobj.BankName}} -->
        </td>
        <td style="line-height: 21px; text-align: center; border: 1px solid #e6e6e6;">
          <input class="form-control"  [(ngModel)]="bankobj.BranchName" style="height: 25px; width: 95% !important"/>
        </td>
        <td style="line-height: 21px; text-align: center; border: 1px solid #e6e6e6;">
          <input class="form-control"  [(ngModel)]="bankobj.AccountNumber" style="height: 25px; width: 95% !important"
            type="text"/>
        </td>
        
        
        
      </tr>
    </tbody>
  </table>

</div>
<!-- ////////////////////////////////BANKSETTING TABLE End////////////////////////////////////////   -->



























<form [formGroup]='form'>
  <!-- <div class="row" class="form-horizontal">
    <div style="background-color:#ffffff; border:1px solid;border-color:#dcdcdc; padding:20px; margin-bottom: 10px;">
      <div class="com-sm-12" style="padding:5px;border-bottom: solid 1px #dcdcdc; margin-bottom: 10px;">
        <h5>{{modeTitle}}</h5>
      </div>
    
    </div>
  </div> -->

  <!--  -->
  <!-- <button type="button" (click)="SumbitSave()" title="onSave" class="btn btn-info" 
    *ngIf="grp=='A'" [disabled]="!form.valid || mode=='view'">Save</button>
  <button type="button" (click)="SumbitSave()" title="onSave" class="btn btn-info" *ngIf="grp=='G'">Save</button>
  <button type="button" (click)="cancel()" title="Cancel" class="btn btn-info">Back</button> -->
</form>

<div class="modal fade" bsModal #childModal="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog" aria-labelledby="mySmallModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-sm">
    <div class="modal-content">
      <div class="modal-header">
        <button class="close" aria-label="Close" (click)="hideChildModal()">
          <span aria-hidden="true">&times;</span>
          
        </button>
        <h4 class="modal-title">Information</h4>
      </div>
      <div class="modal-body">
        {{DialogMessage}}
      </div>
     

    </div>
  </div>
</div>
<generic-popup-grid #genericGridBankList [popupsettings]="gridBankPopupSettings"
  (onItemDoubleClick)="onBankSelect($event)"></generic-popup-grid>

  <generic-popup-grid #genericGridAdditionalBankList [popupsettings]="gridAdditionalBankPopupSettings"
  (onItemDoubleClick)="onAddBankSelect($event)"></generic-popup-grid>
  
  <generic-popup-grid #genericGridACListParty [popupsettings]="gridACListPartyPopupSettings"
  (onItemDoubleClick)="onAddParentCompanySelect($event)"></generic-popup-grid>


  <generic-popup-grid #genericGridContract [popupsettings]="gridPopupSettingsForContractPrice" (onItemDoubleClick)="onContactPriceSelected($event)">
  </generic-popup-grid>

  <generic-popup-grid #genericGridSalesman [popupsettings]="gridPopupSettingsForSalesmanList" (onItemDoubleClick)="onSalesmanSelect($event)">
  </generic-popup-grid>

  <div>
    <div class="modal fade" bsModal #DeletePar="bs-modal" [config]="{backdrop: 'static'}" tabindex="-1" role="dialog"
      aria-labelledby="mySmallModalLabel" aria-hidden="true" style="margin:-100px;height:460px">
      <div class="modal-dialog modal-sm">
        <div class="modal-content" style="width: 420px;">
          <div class="modal-header">
            <button class="close" aria-label="Close" (click)="onClickNo()">
              <span aria-hidden="true">&times;</span>
  
            </button>
            <h4 class="modal-title">Delete Party</h4>
          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-12" style="margin-top: -10px;margin-bottom: 12px;">
                Are you sure you want to delete this party?
              </div>
              <div class="col-md-12">
                <button (click)="DeleteYes()" style="margin-right: 4px;" class="btn btn-danger ">Yes</button>
                <button (click)="DeleteNo()" type="button " class="btn btn-warning">No</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>